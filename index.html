<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>StudyPro-SÃ©nÃ©gal â€“ Organisateur Personnel ğŸ“</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
</head>
<body>

  <!-- Page d'authentification -->
  <main id="authPage" class="auth-page">
    <section class="auth-container">
      <h1 class="auth-title">ğŸ“ StudyPro-SÃ©nÃ©gal</h1>
      <p class="auth-subtitle">Votre organisateur personnel pour rÃ©ussir les Ã©tudes</p>
      
      <!-- Onglets Connexion / Inscription -->
      <div class="auth-tabs">
        <button class="auth-tab active" data-auth="login">Connexion</button>
        <button class="auth-tab" data-auth="signup">Inscription</button>
      </div>
      
      <!-- Formulaire de connexion -->
      <form id="loginForm" class="auth-form active">
        <input type="email" id="loginEmail" placeholder="Email" class="auth-input" required>
        <input type="password" id="loginPassword" placeholder="Mot de passe" class="auth-input" required>
        <button type="submit" id="loginBtn" class="auth-button">Se connecter</button>
        <p class="auth-error" id="loginError"></p>
      </form>
      
      <!-- Formulaire d'inscription -->
      <form id="signupForm" class="auth-form">
        <input type="text" id="signupName" placeholder="Nom complet" class="auth-input" required>
        <input type="email" id="signupEmail" placeholder="Email" class="auth-input" required>
        <input type="password" id="signupPassword" placeholder="Mot de passe (min 6 caractÃ¨res)" class="auth-input" required>
        <button type="submit" id="signupBtn" class="auth-button">CrÃ©er mon compte</button>
        <p class="auth-error" id="signupError"></p>
      </form>
    </section>
  </main>

  <!-- Application principale -->
  <main id="mainApp" class="main-app hidden">
    <section class="container">

      <!-- En-tÃªte avec moyenne gÃ©nÃ©rale -->
      <header class="header-card">
        <div class="header-top">
          <div>
            <h1>ğŸ“ StudyPro-SÃ©nÃ©gal</h1>
            <p class="subtitle">Bienvenue <span id="userName"></span> !</p>
          </div>
          <button id="logoutBtn" class="btn-logout">DÃ©connexion</button>
        </div>

        <div class="average-section">
          <div class="average-header">
            <span class="average-label">Moyenne GÃ©nÃ©rale</span>
            <span class="average-value" id="averageValue">0/100</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" id="averageProgress"></div>
          </div>
          <p class="motivation-message" id="motivationMessage"></p>
        </div>
      </header>

      <!-- Navigation par onglets -->
      <nav class="tabs">
        <button class="tab-button active" data-tab="dashboard">ğŸ“Š Tableau de bord</button>
        <button class="tab-button" data-tab="subjects">ğŸ“š MatiÃ¨res</button>
        <button class="tab-button" data-tab="tasks">ğŸ“ TÃ¢ches</button>
        <button class="tab-button" data-tab="goals">ğŸ¯ Objectifs</button>
      </nav>

      <!-- Contenu des onglets -->
      <section id="dashboard" class="tab-content active">
        <div class="dashboard-grid">
          <article class="card">
            <h2 class="card-title">ğŸ“ˆ Mes MatiÃ¨res</h2>
            <div id="dashboardSubjects"></div>
          </article>
          <article class="card">
            <h2 class="card-title">ğŸ“š TÃ¢ches RÃ©centes</h2>
            <div id="dashboardTasks"></div>
          </article>
          <article class="card card-full">
            <h2 class="card-title">ğŸ¯ Mes Objectifs</h2>
            <div id="dashboardGoals"></div>
          </article>
        </div>
      </section>

      <!-- MatiÃ¨res -->
      <section id="subjects" class="tab-content">
        <div class="card">
          <header class="card-header">
            <h2 class="card-title">Mes MatiÃ¨res</h2>
            <button class="btn btn-add" id="btnAddSubject">â• Ajouter</button>
          </header>

          <form id="addSubjectForm" class="add-form hidden">
            <div class="form-grid">
              <input type="text" id="newSubjectName" placeholder="Nom de la matiÃ¨re" class="input" required>
              <input type="number" id="newSubjectCoef" placeholder="Coefficient" class="input" required>
            </div>
            <div class="form-actions">
              <button type="submit" class="btn btn-success" id="confirmAddSubject">Ajouter</button>
              <button type="button" class="btn btn-danger" id="cancelAddSubject">Annuler</button>
            </div>
          </form>
          <div id="subjectsList"></div>
        </div>
      </section>

      <!-- TÃ¢ches -->
      <section id="tasks" class="tab-content">
        <div class="card">
          <header class="card-header">
            <h2 class="card-title">Mes TÃ¢ches</h2>
            <button class="btn btn-add" id="btnAddTask">â• Ajouter</button>
          </header>

          <form id="addTaskForm" class="add-form hidden">
            <div class="form-column">
              <input type="text" id="newTaskTitle" placeholder="Titre de la tÃ¢che" class="input" required>
              <select id="newTaskSubject" class="input" required>
                <option value="">Choisir une matiÃ¨re</option>
              </select>
              <select id="newTaskPriority" class="input">
                <option value="haute">PrioritÃ© haute</option>
                <option value="moyenne" selected>PrioritÃ© moyenne</option>
                <option value="basse">PrioritÃ© basse</option>
              </select>
            </div>
            <div class="form-actions">
              <button type="submit" class="btn btn-success" id="confirmAddTask">Ajouter</button>
              <button type="button" class="btn btn-danger" id="cancelAddTask">Annuler</button>
            </div>
          </form>
          <div id="tasksList"></div>
        </div>
      </section>

      <!-- Objectifs -->
      <section id="goals" class="tab-content">
        <div class="card">
          <header class="card-header">
            <h2 class="card-title">Mes Objectifs</h2>
            <button class="btn btn-add" id="btnAddGoal">â• Ajouter</button>
          </header>

          <form id="addGoalForm" class="add-form hidden">
            <div class="form-grid">
              <input type="text" id="newGoalTitle" placeholder="Titre de l'objectif" class="input" required>
              <input type="number" id="newGoalTarget" placeholder="Cible (nombre)" class="input" required>
            </div>
            <div class="form-actions">
              <button type="submit" class="btn btn-success" id="confirmAddGoal">Ajouter</button>
              <button type="button" class="btn btn-danger" id="cancelAddGoal">Annuler</button>
            </div>
          </form>
          <div id="goalsList"></div>
        </div>
      </section>

    </section>
  </main>

  <!-- Firebase CDN -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>

  <!-- Script principal -->
  <script src="script.js"></script>
</body>
</html>
